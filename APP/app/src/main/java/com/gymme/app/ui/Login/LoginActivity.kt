package com.gymme.app.ui.Loginimport android.content.Intentimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.view.Viewimport android.widget.Toastimport com.gymme.Rimport androidx.lifecycle.Observerimport com.gymme.Shared.Constantsimport com.gymme.app.ui.LoginRegistration.LoginRegistrationActivityimport com.gymme.app.ui.SplashScreen.SplashScreenActivityimport com.gymme.app.ui.StartExercises.StartExercisesActivityimport kotlinx.android.synthetic.main.activity_login.*import org.koin.androidx.viewmodel.ext.android.viewModelclass LoginActivity : AppCompatActivity(), View.OnClickListener {    private val loginViewModel: LoginViewModel by viewModel()    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_login)        loginViewModel.user.observe(this, Observer {            it?.let {                user ->                run {                    if (user.Id != 0) {                        val intent = Intent(this, StartExercisesActivity::class.java)                        intent.putExtra(Constants.USER_ID, user.Id.toString())                        startActivity(intent)                    } else {                        Toast.makeText(this, "Login ou senha incorretos.", Toast.LENGTH_SHORT).show()                    }                }            }        })        btn_new_login.setOnClickListener(this)        btn_confirm.setOnClickListener(this)        btn_return2.setOnClickListener(this)    }    override fun onClick(view: View) {        val id = view.id        when (id) {            R.id.btn_confirm -> {                loginViewModel.getUser(login.text.toString(), password.text.toString())            }            R.id.btn_new_login -> {                startActivity(Intent(this, LoginRegistrationActivity::class.java))            }            R.id.btn_return2 -> {                startActivity(Intent(this, SplashScreenActivity::class.java))            }        }    }}